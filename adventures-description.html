<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Adventure Guide Details</title>
<style>
body{font-family:Arial, sans-serif;background:#143234;margin:0}
.container{max-width:1000px;margin:30px auto;background:white;padding:20px;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,0.08)}
.back{margin-bottom:16px}
.back a{color:#333;text-decoration:none}
.top{display:flex;gap:20px;flex-wrap:wrap}
.top img{width:380px;height:260px;object-fit:cover;border-radius:10px}
.info h1{margin:0 0 8px}
.info p{margin:6px 0;color:#444}
.section{margin-top:22px}
.section h3{margin-bottom:8px}
ul{padding-left:20px}
.ticket-box{margin-top:18px;padding:14px;background:#f1f1f1;border-radius:8px}
select,input[type=number]{padding:8px;border-radius:6px;border:1px solid #ccc}
.final{margin-top:10px;font-weight:bold;font-size:20px}
.btn{display:inline-block;margin-top:14px;background:#111;color:white;padding:10px 16px;border-radius:8px;border:none;cursor:pointer}
.map iframe{width:100%;height:320px;border:0;border-radius:8px;margin-top:10px}
.gallery img{width:48%;margin:1%;border-radius:8px;object-fit:cover;height:150px}
@media(max-width:800px){.top img{width:100%;height:220px}}
</style>
</head>
<body>

<div class="container">
  <div class="back"><a href="adventures.html">← Back to Adventures Guides</a></div>

  <div class="top">
    <img id="guideImg" src="images/zipline-peje.jpg" alt="guide image">
    <div class="info">
      <h1 id="guideTitle">Loading...</h1>
      <p><strong>Date:</strong> <span id="guideDate"></span></p>
      <p><strong>Location:</strong> <span id="guideLocation"></span></p>
      <p><strong>Base price:</strong> <span id="basePrice"></span></p>
      <p><strong>Difficulty:</strong> <span id="difficulty"></span></p>
      <p><strong>Duration:</strong> <span id="duration"></span></p>
      <p><strong>Distance:</strong> <span id="distance"></span></p>
    </div>
  </div>

  <div class="section">
    <h3>1. About the Adventure</h3>
    <p id="desc"></p>
  </div>

  <div class="section">
    <h3>2. Itinerary</h3>
    <ul id="itinerary"></ul>
  </div>

  <div class="section">
    <h3>3. Difficulty</h3>
    <p id="diffText"></p>
  </div>

  <div class="section">
    <h3>4. What to bring</h3>
    <ul id="equipment"></ul>
  </div>

  <div class="section map">
    <h3>5. Map</h3>
    <iframe id="mapFrame" src="" loading="lazy"></iframe>
  </div>

  <div class="section">
    <h3>6. Gallery</h3>
    <div class="gallery">
      <img id="g1" src="images/gallery1.jpg" alt="gallery1">
      <img id="g2" src="images/gallery2.jpg" alt="gallery2">
    </div>
  </div>

  <div class="section">
    <h3>7. Transport</h3>
    <p id="transport">Transport included. Meeting point: City center.</p>
  </div>

  <div class="section">
    <h3>8. Safety</h3>
    <ul>
      <li>Stay with the group</li>
      <li>Follow guide instructions</li>
      <li>Wear proper shoes</li>
      <li>Bring water and emergency kit</li>
    </ul>
  </div>

  <div class="ticket-box">
    <h3>Tickets</h3>
    <label>Ticket type:</label>
    <select id="ticketType" onchange="updatePrice()">
      <option value="regular">Regular Ticket</option>
      <option value="student">Student Ticket (-30%)</option>
    </select>
    <div style="margin-top:8px;">
      <label>Number of tickets:</label>
      <input type="number" id="tickets" value="1" min="1" max="10" onchange="updatePrice()">
    </div>
    <div class="final" id="finalPrice">Final Price: </div>
    <button class="btn" onclick="continueBooking()">Continue (requires login)</button>
  </div>

</div>

<script>
const guidesData={
  "Zipline - Pejë":{
    description:"Exciting zipline adventure with panoramic views over Pejë. Perfect for adrenaline seekers.",
    difficulty:"Moderate",
    duration:"Half-day",
    distance:"2 km",
    equipment:["Comfortable clothes","Hiking shoes","Water","Camera"],
    itinerary:["Arrival 08:00 AM","Safety briefing","Zipline session","Departure 12:00 PM"],
    mapQuery:"Pejë, Kosovo",
    base:25
  },
  "Via Ferrata 'Ari' - Rugovë":{
    description:"Climbing via ferrata with breathtaking mountain scenery. Suitable for moderate experience.",
    difficulty:"Hard",
    duration:"Full day",
    distance:"5 km",
    equipment:["Climbing harness","Helmet","Gloves","Water","Lunch"],
    itinerary:["Arrival 07:00 AM","Climbing start 08:00 AM","Lunch break 12:30 PM","Climbing ends 16:00 PM","Departure 17:00 PM"],
    mapQuery:"Rugova, Kosovo",
    base:30
  },
  "Liqeni i Batllavës":{
    description:"Leisure walking around the lake, ideal for families and photography lovers.",
    difficulty:"Easy",
    duration:"Half-day",
    distance:"3 km",
    equipment:["Light shoes","Water","Camera","Snack"],
    itinerary:["Arrival 09:00 AM","Lake walk","Picnic","Departure 12:00 PM"],
    mapQuery:"Batllava Lake, Kosovo",
    base:18
  },
  "Paragliding - Prizren / Sharri":{
    description:"Paragliding experience for adrenaline lovers with stunning aerial views.",
    difficulty:"Hard",
    duration:"Full day",
    distance:"N/A",
    equipment:["Paragliding gear","Helmet","Harness","Gloves","Water"],
    itinerary:["Arrival 07:30 AM","Safety briefing","Flight session","Return 16:00 PM"],
    mapQuery:"Prizren, Kosovo",
    base:40
  }
};

const params=new URLSearchParams(window.location.search);
const locationName=params.get('location')||'';
const date=params.get('date')||'';
const priceParam=params.get('price')||'0€';
const img=params.get('img')||'images/placeholder.jpg';

document.getElementById('guideDate').innerText=date;
document.getElementById('guideLocation').innerText=locationName;
document.getElementById('guideTitle').innerText=`${locationName} — ${date}`;
document.getElementById('guideImg').src=img;
document.getElementById('basePrice').innerText=priceParam;

if(guidesData[locationName]){
  const g=guidesData[locationName];
  document.getElementById('desc').innerText=g.description;
  document.getElementById('difficulty').innerText=g.difficulty;
  document.getElementById('duration').innerText=g.duration;
  document.getElementById('distance').innerText=g.distance;
  const ul=document.getElementById('equipment'); ul.innerHTML='';
  g.equipment.forEach(i=>{const li=document.createElement('li');li.textContent=i;ul.appendChild(li)});
  const itin=document.getElementById('itinerary'); itin.innerHTML='';
  g.itinerary.forEach(i=>{const li=document.createElement('li');li.textContent=i;itin.appendChild(li)});
  document.getElementById('mapFrame').src="https://www.google.com/maps?q="+encodeURIComponent(g.mapQuery)+"&output=embed";
  basePrice=g.base;
}else{
  document.getElementById('desc').innerText="Detailed info coming soon.";
  document.getElementById('mapFrame').src="https://www.google.com/maps?q="+encodeURIComponent(locationName||"Kosovo")+"&output=embed";
  basePrice=parseFloat(priceParam.replace("€",""))||0;
}

function updatePrice(){
  const type=document.getElementById('ticketType').value;
  const qty=parseInt(document.getElementById('tickets').value)||1;
  let final=basePrice;
  if(type==='student') final=basePrice*0.7;
  document.getElementById('finalPrice').innerText=`Final Price: ${(final*qty).toFixed(2)}€ (${qty} × ${final.toFixed(2)}€)`;
}

updatePrice();

function continueBooking(){alert("Login required to continue. Demo only calculates price.");}
</script>

</body>
</html>
